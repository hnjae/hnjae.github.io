<!doctype html><html lang=ko dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>systemd.service | hnjae's wiki</title><meta name=keywords content><meta name=description content="Type=simple 과 Type=oneshot 의 차이 systemd 유닛의 [Service] 섹션에 들어갈 항목들 결론: 기본적으로 실행시간이 짧은 프로세스는 oneshot 으로, 아니면 simple 로 하는게 옳아 보임. simple 프로세스가 실행 중 일때는 active"><meta name=author content="Hyunjae Kim"><link rel=canonical href=https://hnjae.github.io/wiki/systemd.service.html><link crossorigin=anonymous href=/assets/css/stylesheet.442c78015b88d9e0aed2a0820bea65539150dd7f6357f0e4f49f6672e5a8b4c8.css integrity="sha256-RCx4AVuI2eCu0qCCC+plU5FQ3X9jV/Dk9J9mcuWotMg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://hnjae.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://hnjae.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://hnjae.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://hnjae.github.io/apple-touch-icon.png><link rel=mask-icon href=https://hnjae.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css crossorigin=anonymous><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script><meta property="og:title" content="systemd.service"><meta property="og:description" content="Type=simple 과 Type=oneshot 의 차이 systemd 유닛의 [Service] 섹션에 들어갈 항목들 결론: 기본적으로 실행시간이 짧은 프로세스는 oneshot 으로, 아니면 simple 로 하는게 옳아 보임. simple 프로세스가 실행 중 일때는 active"><meta property="og:type" content="article"><meta property="og:url" content="https://hnjae.github.io/wiki/systemd.service.html"><meta property="article:section" content="wiki"><meta property="article:published_time" content="2023-10-10T17:13:48+09:00"><meta property="article:modified_time" content="2023-10-10T17:44:11+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="systemd.service"><meta name=twitter:description content="Type=simple 과 Type=oneshot 의 차이 systemd 유닛의 [Service] 섹션에 들어갈 항목들 결론: 기본적으로 실행시간이 짧은 프로세스는 oneshot 으로, 아니면 simple 로 하는게 옳아 보임. simple 프로세스가 실행 중 일때는 active"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Wiki","item":"https://hnjae.github.io/wiki/"},{"@type":"ListItem","position":2,"name":"systemd.service","item":"https://hnjae.github.io/wiki/systemd.service.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"systemd.service","name":"systemd.service","description":"Type=simple 과 Type=oneshot 의 차이 systemd 유닛의 [Service] 섹션에 들어갈 항목들 결론: 기본적으로 실행시간이 짧은 프로세스는 oneshot 으로, 아니면 simple 로 하는게 옳아 보임. simple 프로세스가 실행 중 일때는 active","keywords":[],"articleBody":" Type=simple 과 Type=oneshot 의 차이 systemd 유닛의 [Service] 섹션에 들어갈 항목들\n결론: 기본적으로 실행시간이 짧은 프로세스는 oneshot 으로, 아니면 simple 로 하는게 옳아 보임.\nsimple 프로세스가 실행 중 일때는 active 상태, 종료 되었을 때 inactive 상태로 바뀐다.\n하나의 ExecStart 만 가질 수 있다.\nRemainAfterExit=true을 같이 사용하면 프로세스가 dispatched 된 후 종속된 서비스들이 즉시 실행.\noneshot 프로세스가 종료되기 전까지 activating 상태 유지. 종료 되면 inactive 상태로 바뀐다. (따로 옵션이 없을 경우 절대 active 상태가 되지 않는다.)\n즉 종속된 서비스들은 선언한 유닛이 종료될때까지 실행되지 않는다.\n0개 이상의 ExecStart 를 가질 수 있다.\nRemainAfterExit=true을 같이 사용하면 프로세스가 성공적으로 종료된 후에 종속 유닛이 실행.\n같이 보기 systemd.unit\nhttps://www.freedesktop.org/software/systemd/man/systemd.service.html\nhttps://trstringer.com/simple-vs-oneshot-systemd-service/\n","wordCount":"299","inLanguage":"ko","datePublished":"2023-10-10T17:13:48+09:00","dateModified":"2023-10-10T17:44:11+09:00","author":{"@type":"Person","name":"Hyunjae Kim"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://hnjae.github.io/wiki/systemd.service.html"},"publisher":{"@type":"Organization","name":"hnjae's wiki","logo":{"@type":"ImageObject","url":"https://hnjae.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hnjae.github.io/ accesskey=h title="hnjae's wiki (Alt + H)">hnjae's wiki</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hnjae.github.io/ title=wiki><span>wiki</span></a></li><li><a href=https://hnjae.github.io/blog/ title=blog><span>blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>systemd.service</h1><div class=post-meta><span title='2023-10-10 17:44:11 +0900 +0900'>Updated 2023-10-10</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>목차</span></summary><div class=inner><ul><ul><li><a href=#_typesimple_%ea%b3%bc_typeoneshot_%ec%9d%98_%ec%b0%a8%ec%9d%b4 aria-label="Type=simple 과 Type=oneshot 의 차이"><code>Type=simple</code> 과 <code>Type=oneshot</code> 의 차이</a></li></ul><li><a href=#_%ea%b0%99%ec%9d%b4_%eb%b3%b4%ea%b8%b0 aria-label="같이 보기">같이 보기</a></li></ul></div></details></div><div class=post-content><div class=sect2><h3 id=_typesimple_과_typeoneshot_의_차이><code>Type=simple</code> 과 <code>Type=oneshot</code> 의 차이<a hidden class=anchor aria-hidden=true href=#_typesimple_과_typeoneshot_의_차이>#</a></h3><div class=paragraph><p>systemd 유닛의 <code>[Service]</code> 섹션에 들어갈 항목들</p></div><div class=paragraph><p>결론: 기본적으로 실행시간이 짧은 프로세스는 <code>oneshot</code> 으로, 아니면 <code>simple</code> 로 하는게 옳아 보임.</p></div><div class=dlist><dl><dt class=hdlist1><code>simple</code></dt><dd><div class=ulist><ul><li><p>프로세스가 실행 중 일때는 active 상태, 종료 되었을 때 inactive 상태로 바뀐다.</p></li><li><p>하나의 <code>ExecStart</code> 만 가질 수 있다.</p></li><li><p><code>RemainAfterExit=true</code>을 같이 사용하면 프로세스가 dispatched 된 후 종속된 서비스들이 즉시 실행.</p></li></ul></div></dd><dt class=hdlist1><code>oneshot</code></dt><dd><div class=ulist><ul><li><p>프로세스가 종료되기 전까지 activating 상태 유지. 종료 되면 inactive 상태로 바뀐다. (따로 옵션이 없을 경우 절대 active 상태가 되지 않는다.)</p><div class=ulist><ul><li><p>즉 종속된 서비스들은 선언한 유닛이 종료될때까지 실행되지 않는다.</p></li></ul></div></li><li><p>0개 이상의 <code>ExecStart</code> 를 가질 수 있다.</p></li><li><p><code>RemainAfterExit=true</code>을 같이 사용하면 프로세스가 성공적으로 종료된 후에 종속 유닛이 실행.</p></li></ul></div></dd></dl></div></div><div class=sect1><h2 id=_같이_보기>같이 보기<a hidden class=anchor aria-hidden=true href=#_같이_보기>#</a></h2><div class=sectionbody><div class=ulist><ul><li><p><a href=systemd.unit.html>systemd.unit</a></p></li><li><p><a href=https://www.freedesktop.org/software/systemd/man/systemd.service.html class=bare>https://www.freedesktop.org/software/systemd/man/systemd.service.html</a></p></li><li><p><a href=https://trstringer.com/simple-vs-oneshot-systemd-service/ class=bare>https://trstringer.com/simple-vs-oneshot-systemd-service/</a></p></li></ul></div></div></div></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://hnjae.github.io/>hnjae's wiki</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>